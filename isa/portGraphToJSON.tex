\isacomm{definition}\ portGraphToJSON\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}\isatv{p}\ list\ {\isasymRightarrow}\ {\isacharparenleft}\isatv{s}{\isacharcomma}\ \isatv{a}{\isacharcomma}\ \isatv{p}{\isacharcomma}\ \isatv{l}{\isacharparenright}\ port{\isacharunderscore}graph\isanewline
\isaindent{\isacomm{definition}\ portGraphToJSON\ }{\isasymRightarrow}\ {\isacharparenleft}String{\isachardot}literal{\isacharcomma}\ int{\isacharparenright}\ json{\isachardoublequoteclose}\isanewline
\ \ \isaOcomm{where}\ {\isachardoublequoteopen}\isafv{portGraphToJSON}\ \isabv{prefix\ G}\ {\isacharequal}\isanewline
\ \ OBJECT\ {\isacharbrackleft}\isanewline
\ \ \ \ {\isacharparenleft}\isaString{id}{\isacharcomma}\ STRING\ {\isacharparenleft}\isafv{pathToString}\ \isabv{prefix}\ {\isacharplus}\ \isaString{Root}{\isacharparenright}{\isacharparenright}\isanewline
\ \ {\isacharcomma}\ {\isacharparenleft}\isaString{layoutOptions}{\isacharcomma}\ OBJECT\ {\isacharbrackleft}{\isacharparenleft}\isaString{algorithm}{\isacharcomma}\ STRING\ \isaString{layered}{\isacharparenright}{\isacharbrackright}{\isacharparenright}\isanewline
\ \ {\isacharcomma}\ {\isacharparenleft}\isaString{children}{\isacharcomma}\ ARRAY\ {\isacharparenleft}\isanewline
\isaindent{\ \ {\isacharcomma}\ {\isacharparenleft}S}map\ {\isacharparenleft}nodeToJSON\ \isabv{prefix}{\isacharparenright}\ {\isacharparenleft}pg{\isacharunderscore}nodes\ \isabv{G}{\isacharparenright}\ {\isacharat}\isanewline
\isaindent{\ \ {\isacharcomma}\ {\isacharparenleft}S}map\ {\isacharparenleft}{\isasymlambda}\isabv{p}{\isachardot}\ openPortToJSON\isanewline
\isaindent{\ \ {\isacharcomma}\ {\isacharparenleft}Smap\ {\isacharparenleft}{\isasymlambda}p{\isachardot}\ o}{\isacharparenleft}length\ {\isacharparenleft}filter\ {\isacharparenleft}{\isasymlambda}\isabv{x}{\isachardot}\ port{\isachardot}side\ \isabv{x}\ {\isacharequal}\ port{\isachardot}side\ \isabv{p}{\isacharparenright}\ {\isacharparenleft}pg{\isacharunderscore}ports\ \isabv{G}{\isacharparenright}{\isacharparenright}\ {\isacharminus}\ {\isadigit{1}}{\isacharparenright}\isanewline
\isaindent{\ \ {\isacharcomma}\ {\isacharparenleft}Smap\ {\isacharparenleft}{\isasymlambda}p{\isachardot}\ o}\isabv{p}{\isacharparenright}\isanewline
\isaindent{\ \ {\isacharcomma}\ {\isacharparenleft}Smap\ }{\isacharparenleft}pg{\isacharunderscore}ports\ \isabv{G}{\isacharparenright}{\isacharparenright}{\isacharparenright}\isanewline
\ \ {\isacharcomma}\ {\isacharparenleft}\isaString{edges}{\isacharcomma}\ ARRAY\ {\isacharparenleft}map\ {\isacharparenleft}edgeToJSON\ \isabv{prefix}{\isacharparenright}\ {\isacharparenleft}pg{\isacharunderscore}edges\ \isabv{G}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isacharbrackright}{\isachardoublequoteclose}
